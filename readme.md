# Лекция 4

## Реализация поставленных задач:

[Ссылка на Pull request](https://github.com/Maynim/ylab-spring/pull/2).

## Задачи:

>1. Добавить поддержку базы данных

Решение: [ссылка на коммит](https://github.com/Maynim/ylab-spring/pull/2/commits/8b6ae5218fbe68e36663bf48dc0c4a9b544a76fc).

Доп. комментарии: В качестве бд была выбрана postgres, в связи с этим, `User` был переименован в `Person`

>2. Реализовать репозиторий с помощью `JPA`

Решение: [ссылка на коммит](https://github.com/Maynim/ylab-spring/pull/2/commits/f730cc151fbe5cc0bd72377022babe4127cac64d).

>3. Реализовать репозиторий с помощью `JdbcTemplate`

Решение: [ссылка на коммит](https://github.com/Maynim/ylab-spring/pull/2/commits/9037d6bf2969d9cb23876eb46c05e9319e3a07c7).

Доп. комментарии: В переданном нам проекте доступ к базе данных осуществлялся в сервисе, что на мой взгляд показалось
странным, поэтому реализацию `JdbcTemplate` я осуществил в репозитории, а для ее использования достаточно изменить
конструктор в сервисах.

>4. Исправить сервисы и мапперы

Решение: [ссылка на коммит](https://github.com/Maynim/ylab-spring/pull/2/commits/c7e3562bbffbe26e79b6378ce8b3809b3fa535e2).

>5. Исправить фасад

Решение: [ссылка на коммит](https://github.com/Maynim/ylab-spring/pull/2/commits/f5a4eefbefac05ee42e3ece8a3d717651d3e1e93).

[Ссылка для доступа к сваггеру](http://localhost:8091/app/swagger-ui/index.html)
___

# Лекция 3

## Реализация поставленных задач:

[Ссылка на Pull request](https://github.com/Maynim/ylab-spring/pull/1).

## Задачи:

>1. Реализовать хранилище, в котором будут содержаться данные

Решение: [ссылка на коммит](https://github.com/Maynim/ylab-spring/pull/1/commits/3f38e86b11c8e84f1dc29f6d8648fecdbfad65fc).

Доп. комментарии: В основе хранилища лежит `Map<String, Map<Long, ? extends BaseEntity>> maynimdb`, где ключом выступает название
сущности, а значением мапа, ключом которой является ID, а значением - сама сущность. Интерфейс `Map` был выбран из за
быстрого доступа у искомой сущнсти.

Для генерации ID используется `Map<String, Long> sequence`, который инкрементируется при присвоении ID.

Сущности, наследуемые от `BaseEntity`, обеспечивают нам возможность создания универсального интерфеса для работы
с хранилищем

>2. Реализовать слой репозиторий

Решение: [ссылка на коммит](https://github.com/Maynim/ylab-spring/pull/1/commits/a3f80a739a94f5052c4ff17d1fb086a7d569071d).

Доп. комментарии: Сигнатуры методов репозитория были выполнены с приближением к привычной реализации `JpaRepository`

>3. Реализовать слой сервис

Решение: [ссылка на коммит](https://github.com/Maynim/ylab-spring/pull/1/commits/cee46ef60b16eb051c8d62c43a79e8d3db3b7df2).

Доп. комментарии: Первоначально данные сигнатуры методов были изменены для работы с `BaseEntity`

>4. Реализовать фасад

Решение: [ссылка на коммит](https://github.com/Maynim/ylab-spring/pull/1/commits/76a2abaede489bb91ebbbc1925a97f4b8d267117).

Доп. комментарии: В фасаде тело запроса маппится в сущность, минуя слой DTO, хотелось бы узнать, допустимо ли это?
Т.к. в дальнейшем мы точно также мапим сущность в тело ответа и передаем нужные нам поля.

>5. Реализовать эндпоинты, добавить описание к сваггеру

Решение: [ссылка на коммит](https://github.com/Maynim/ylab-spring/pull/1/commits/5d9fc2ae0bc79461e3f171d5faf63127c5dbb9a3).

[Ссылка для доступа к сваггеру](http://localhost:8091/app/swagger-ui/index.html)